{
  "version": 3,
  "sources": ["../src/index.ts", "../src/get-url.ts", "../src/compile.ts", "../src/format.ts"],
  "sourcesContent": ["export { compile } from './compile';\nexport { format } from './format';\n", "export const getUrl = (baseUrl?: string) => {\n  if (baseUrl) {\n    if (typeof baseUrl === 'string') {\n      if (baseUrl.endsWith('/')) {\n        return baseUrl.slice(0, -1);\n      }\n      return baseUrl;\n    } else {\n      throw new Error('invalid baseUrl');\n    }\n  }\n\n  const metaUrl = import.meta?.url;\n  const currentScriptSrc = (document?.currentScript as HTMLScriptElement)?.src;\n  const locationHref = location.href;\n\n  const url =\n    metaUrl && typeof metaUrl === 'string'\n      ? metaUrl\n      : currentScriptSrc && typeof currentScriptSrc === 'string'\n      ? currentScriptSrc\n      : locationHref && typeof locationHref === 'string'\n      ? locationHref\n      : '.';\n\n  return url.split('/').slice(0, -1).join('/');\n};\n", "import { getUrl } from './get-url';\n\nexport const compile = async (code: string, baseUrl?: string): Promise<string> => {\n  const url = getUrl(baseUrl);\n  await import(url + '/go2js-compile.js');\n  return new Promise((resolve, reject) => {\n    (globalThis as any).go2jsCompile(code, url, (err: string, jsCode: string) => {\n      if (err) {\n        reject(err);\n      } else {\n        resolve(jsCode);\n      }\n    });\n  });\n};\n", "import { getUrl } from './get-url';\n\nexport const format = async (code: string, baseUrl?: string, imports = true): Promise<string> => {\n  const url = getUrl(baseUrl);\n  const filename = imports ? '/go2js-format.js' : '/go2js-format-no-imports.js';\n  await import(url + filename);\n  return new Promise((resolve, reject) => {\n    const [formatted, err] = (globalThis as any).go2jsFormat(code);\n    if (err) {\n      reject(err);\n    } else {\n      resolve(formatted);\n    }\n  });\n};\n"],
  "mappings": "qJAAA,2CCAA,SAAa,EAAS,AAAC,GAAqB,CAC1C,GAAI,EAAS,CACX,GAAI,MAAO,IAAY,SACrB,MAAI,GAAQ,SAAS,KACZ,EAAQ,MAAM,EAAG,IAEnB,EAEP,KAAM,IAAI,OAAM,mBAIpB,GAAM,GAAU,GAAa,IACvB,EAAoB,UAAU,eAAqC,IACnE,EAAe,SAAS,KAW9B,MAAO,AARL,IAAW,MAAO,IAAY,SAC1B,EACA,GAAoB,MAAO,IAAqB,SAChD,EACA,GAAgB,MAAO,IAAiB,SACxC,EACA,KAEK,MAAM,KAAK,MAAM,EAAG,IAAI,KAAK,MCvBnC,GAAM,GAAU,MAAO,EAAc,IAAsC,CAChF,GAAM,GAAM,EAAO,GACnB,YAAM,QAAO,EAAM,qBACZ,GAAI,SAAQ,CAAC,EAAS,IAAW,CACtC,AAAC,WAAmB,aAAa,EAAM,EAAK,CAAC,EAAa,IAAmB,CAC3E,AAAI,EACF,EAAO,GAEP,EAAQ,QCRT,GAAM,GAAS,MAAO,EAAc,EAAkB,EAAU,KAGrE,MAAM,QAAO,AAFD,EAAO,GACF,GAAU,mBAAqB,gCAEzC,GAAI,SAAQ,CAAC,EAAS,IAAW,CACtC,GAAM,CAAC,EAAW,GAAQ,WAAmB,YAAY,GACzD,AAAI,EACF,EAAO,GAEP,EAAQ",
  "names": []
}
